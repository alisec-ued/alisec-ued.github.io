<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> flex&&table-cell解决列表布局 · Hexo</title><meta name="description" content="flex&amp;&amp;table-cell解决列表布局 - alisec-ued"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://alisec-ued.github.io/atom.xml" title="Hexo"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/alisec-ued" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">flex&&table-cell解决列表布局</h1><div class="post-info">Dec 2, 2016</div><div class="post-content"><p>本文要解决的问题：列表的布局。</p>
<p>一直以来，栅格布局由于其响应式的特点广为应用，但它的原理是将一列分为12份再进行组合，所以对于每列宽度的划分不是很灵活。</p>
<p>本文介绍flex、table-cell两种方式，来解决列表问题。</p>
<ul>
<li>使列表宽度灵活定义，并能根据屏幕大小进行自适应。</li>
<li>解决不定高度的行，内容垂直居中、水平居中的问题。</li>
<li>解决响应式的问题（采用媒体查询）。</li>
</ul>
<a id="more"></a>
<h4 id="基本知识的介绍："><a href="#基本知识的介绍：" class="headerlink" title="基本知识的介绍："></a>基本知识的介绍：</h4><h6 id="flex："><a href="#flex：" class="headerlink" title="flex："></a>flex：</h6><p> 是一种不同于盒模型的布局方式，它是一种弹性布局可以便捷的实现各种布局。</p>
<ul>
<li>添加display属性的取值flex。</li>
<li>该布局中引入主轴、交叉轴的概念。</li>
<li>主轴可以指横向、也可以指纵向，由<code>flex-direction</code>属性的取值决定。</li>
<li>主轴确定后，与其交叉的方向即为纵轴。</li>
<li>在该布局下存在类似float、vertical-align功能的新属性，所以float、clear、vertical-align不再生效。</li>
<li>本例中用到的属性：<ul>
<li><code>flex-basis</code>：用于子元素上设置宽度，与width类似。</li>
<li><code>justify-content</code>: 用于父元素上，设置主轴上的对齐方式，可取<code>flex-start</code> | <code>flex-end</code> |<code>center</code> |<code>space-between</code> |<code>space-around</code>;</li>
<li><code>align-items</code>: 用于父元素上，设置交叉轴上的对齐方式，可取<code>flex-start</code> | <code>flex-end</code> |<code>center</code> |<code>space-between</code> |<code>space-around</code>;</li>
</ul>
</li>
<li>flex介绍可参考<a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="external">flex教程</a></li>
</ul>
<h6 id="table-cell："><a href="#table-cell：" class="headerlink" title="table-cell："></a>table-cell：</h6><p>table布局是一种传统的布局方式，<code>display:table-cell</code>去掉了table标签，用css的形式实现类似的布局，去掉了语义化。</p>
<ul>
<li>当display设置为table-cell时元素类似一个单元格，对margin不敏感，只对padding敏感。</li>
<li>对高度敏感，当同行其他列高度变化时，该列高度随之变化，vertical-align也可以使内部元素动态垂直居中。</li>
<li><code>table-cell</code>是一个较早的属性，其兼容性较好。</li>
<li>可以在内部嵌套栅格布局，不会引起冲突。</li>
</ul>
<h4 id="案例："><a href="#案例：" class="headerlink" title="案例："></a>案例：</h4><ul>
<li>希望固定操作列的宽度。</li>
<li>其他列的宽度可以根据屏幕的宽度自适应。</li>
<li>当屏幕宽度过窄时，折行显示。</li>
</ul>
<h4 id="flex实现："><a href="#flex实现：" class="headerlink" title="flex实现："></a>flex实现：</h4><p>DOM结构：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item0"</span>&gt;</span></div><div class="line">    这里是列表内容</div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item1"</span>&gt;</span></div><div class="line">  	操作</div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>CSS样式：</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: pink; <span class="comment">//采用背景颜色来标注div位置</span></div><div class="line">  <span class="attribute">display</span>: flex;  <span class="comment">// 外层div采用flex布局</span></div><div class="line">&#125;</div><div class="line"><span class="selector-class">.item0</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: grey;</div><div class="line">  <span class="attribute">flex-basis</span>: <span class="number">100%</span>; <span class="comment">// 宽度占满除操作列之外的宽度 </span></div><div class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;  <span class="comment">// 设置内容列高度，也可让其随内容变化</span></div><div class="line">  <span class="comment">/**以下解决内容水平、垂直居中问题**/</span></div><div class="line">  <span class="attribute">display</span>: flex;</div><div class="line">  <span class="attribute">justify-content</span>: center; <span class="comment">// 操作列内容水平居中</span></div><div class="line">  <span class="attribute">align-items</span>: center; <span class="comment">// 操作列内容垂直居中</span></div><div class="line">&#125;</div><div class="line"><span class="selector-class">.item1</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: purple;</div><div class="line">  <span class="attribute">flex-basis</span>: <span class="number">80px</span>;  <span class="comment">// 固定操作列宽度</span></div><div class="line">  <span class="attribute">min-height</span>: <span class="number">40px</span>;  <span class="comment">// 设置操作列最小高度，真是高度随内容列高度变化</span></div><div class="line">  <span class="comment">/**以下解决内容水平、垂直居中问题**/</span></div><div class="line">  <span class="attribute">display</span>: flex;  <span class="comment">// 设置操作列布局方式</span></div><div class="line">  <span class="attribute">justify-content</span>: center; <span class="comment">// 操作列内容水平居中</span></div><div class="line">  <span class="attribute">align-items</span>: center; <span class="comment">// 操作列内容垂直居中</span></div><div class="line">&#125;</div><div class="line"><span class="comment">/**响应式处理**/</span></div><div class="line">@<span class="keyword">media</span> screen and (max-width: 750px)&#123;</div><div class="line">  <span class="selector-class">.container</span> &#123;</div><div class="line">    <span class="attribute">display</span>: block;  <span class="comment">// 当屏幕宽度小于750px时，将外层布局变为block；此时两列各占一行。内部内容仍然是flex布局。</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>元素内部需要<code>flex</code>布局，需要设置该元素<code>display:flex</code>。</li>
</ul>
<h4 id="table-cell实现"><a href="#table-cell实现" class="headerlink" title="table-cell实现:"></a>table-cell实现:</h4><p>DOM结构：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item0"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content-inner"</span>&gt;</span></div><div class="line">        这里是列表内容</div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item1"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content-inner"</span>&gt;</span></div><div class="line">        操作</div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>CSS样式：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**实现外层布局**/</span></div><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: pink;</div><div class="line">  <span class="attribute">display</span>: table;</div><div class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.item0</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: grey;</div><div class="line">  <span class="attribute">display</span>: table-cell;</div><div class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.item1</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: purple;</div><div class="line">  <span class="attribute">display</span>: table-cell;</div><div class="line">  <span class="attribute">width</span>: <span class="number">80px</span>;</div><div class="line">  <span class="attribute">min-height</span>: <span class="number">40px</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">/**实现内容居中**/</span></div><div class="line"><span class="selector-class">.content</span> &#123;</div><div class="line">  <span class="attribute">display</span>: table;</div><div class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.content-inner</span> &#123;</div><div class="line">  <span class="attribute">display</span>: table-cell;</div><div class="line">  <span class="attribute">text-align</span>: center;</div><div class="line">  <span class="attribute">vertical-align</span>: middle;</div><div class="line">&#125;</div><div class="line"><span class="comment">/**实现响应式**/</span></div><div class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">750px</span>)&#123;</div><div class="line">  <span class="selector-class">.container</span> &#123;</div><div class="line">    <span class="attribute">display</span>: block;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-class">.item0</span> &#123;</div><div class="line">    <span class="attribute">display</span>: block;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-class">.item1</span> &#123;</div><div class="line">    <span class="attribute">display</span>: block;</div><div class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>父元素需要设置<code>display:table</code> 。</li>
<li>子元素<code>display:table-cell</code>,且设置了高度或者其他列设置了高度，<code>vertical-align: middle;</code>才能生效。</li>
</ul>
<h4 id="实现效果"><a href="#实现效果" class="headerlink" title="实现效果"></a>实现效果</h4><h5 id="屏幕宽度-gt-750px"><a href="#屏幕宽度-gt-750px" class="headerlink" title="屏幕宽度&gt;750px"></a>屏幕宽度&gt;750px</h5><p><img src="https://img.alicdn.com/tps/TB1JZwKOpXXXXaGaXXXXXXXXXXX-2158-230.png" alt="图片"></p>
<h5 id="屏幕宽度-lt-750px"><a href="#屏幕宽度-lt-750px" class="headerlink" title="屏幕宽度&lt;750px"></a>屏幕宽度&lt;750px</h5><p><img src="https://img.alicdn.com/tps/TB1DaIVOpXXXXa5XVXXXXXXXXXX-1406-312.png" alt="响应后"></p>
<h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><p>flex用简单的样式，就实现了不定高垂直居中，宽度灵活自适应，flex目前所有类型浏览器都已支持，只是某些低版本浏览器会存在兼容性问题。table-cell兼容性良好，但稍显复杂。总体来看flex才是大势所趋。</p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/12/07/前后端渲染模板一致性的思考/" class="prev">上一篇</a><a href="/2016/11/28/图解Redux数据流(二)/" class="next">下一篇</a></div><style>.ds-powered-by, .ds-comments-tab-weibo {
    display: none !important;
}</style><div data-thread-key="2016/12/02/flex布局/" data-title="flex&amp;&amp;table-cell解决列表布局" data-url="https://alisec-ued.github.io/2016/12/02/flex布局/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"alisec-ued"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2016 <a href="https://alisec-ued.github.io">alisec-ued</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a></p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>var _hmt = _hmt || []; (function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?f356a2d337ba7259fc3c8223ad3deeac";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></body></html>